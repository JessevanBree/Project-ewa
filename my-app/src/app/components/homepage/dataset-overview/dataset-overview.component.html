<div class="row mt-0 ml-0 mr-0">
  <div class="small-screen col-sm-11 col-md-8 col-lg-5 ml-3 align-content-center align-items-center text-center flex-center">
    <div class="col-5 form-group has-search float-left pr-1">
      <span class="fa fa-search form-control-feedback"></span>
      <input type="text" class="form-control" placeholder="Search" [(ngModel)]="searchQuery">
    </div>
    <div class="btn-group ml-0 float-left">
      <!--      <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown">Filter</button>-->

      <!--      <select class="custom-select" style="cursor: pointer" ngForm [(ngModel)]="regionSearch">-->
      <!--        <option selected (click)="onFilterRegion('ALL')">All regions</option>-->
      <!--        <option value="1" (click)="onFilterRegion('EU')">European Level</option>-->
      <!--        <option value="2" (click)="onFilterRegion('NAT')">National Level</option>-->
      <!--        <option value="3" (click)="onFilterRegion('URB')">Urban Level</option>-->
      <!--      </select>-->
      <!--      &lt;!&ndash;      <select *ngIf="this.sessionService.displayName" class="custom-select" style="cursor: pointer">&ndash;&gt;-->
      <!--      <select class="custom-select" style="cursor: pointer" ngForm [(ngModel)]="this.publicitySearch">-->
      <!--        <option selected (click)="onFilterPublicity('')">Publicity</option>-->
      <!--        <option value="1" (click)="onFilterPublicity('All')">All shared</option>-->
      <!--        <option value="2" (click)="onFilterPublicity('Public')">Public shared</option>-->

      <!--&lt;!&ndash;        TODO:: Implement a *ngIf after modifying User modal so that only users in a group can see this option&ndash;&gt;-->

      <!--        <option value="3" (click)="onFilterPublicity('Group')">Group shared</option>-->
      <!--        <option value="4" (click)="onFilterPublicity('Private')">Private shared</option>-->
      <!--      </select>-->
      <select name="regionSelectBox" id="regionDropDown" class="custom-select" style="cursor: pointer" ngForm
              [(ngModel)]="this.regionSearch">
        <option value="All regions" selected>All regions</option>
        <option value="European">European Level</option>
        <option value="National">National Level</option>
        <option value="Urban">Urban Level</option>
      </select>
      <!--      <select *ngIf="this.sessionService.displayName" class="custom-select" style="cursor: pointer">-->
      <select name="publicitySelectBox" class="custom-select" style="cursor: pointer" ngForm
              [(ngModel)]="this.publicitySearch">
        <option value="All shared">All shared</option>
        <option value="Public">Public shared</option>

        <!--        TODO:: Implement a *ngIf after modifying User modal so that only users in a group can see this option-->

        <option>Group shared</option>
        <option>Private shared</option>
      </select>
      <button type="submit" class="btn btn-warning ml-1 rounded" (click)="onFilter()">Filter</button>
      <!--      <div class="dropdown-menu dropdown-menu-right">-->
      <!--        <a class="dropdown-item" (click)="onFilter('EU')">European Level</a>-->
      <!--        <a class="dropdown-item" (click)="onFilter('NAT')">National Level</a>-->
      <!--        <a class="dropdown-item" (click)="onFilter('URB')">Urban Level</a>-->
      <!--      </div>-->
    </div>

  </div>
</div>

<div class="row mt-1 ml-0 mr-0">
  <div class="overflow-auto custom-table-fixed small-screen col-sm-11 col-md-8 col-lg-4 ml-3 p-0"
       style="max-height: 400px;">
    <table class="table table-bordered m-0 text-center5 text-center">
      <thead class="tablehead table-borderless">
      <tr>
        <th>Datasets</th>
      </tr>
      </thead>
      <tbody class="table-light" *ngIf="this.datasets$ | async">
      <tr *ngFor="let dataset of copyDatasets | searchArray: [searchQuery, 'name']; let index = index;"
          (click)="onSelection(index, dataset)">
        <td>{{dataset.name}}</td>
      </tr>
      </tbody>
    </table>
  </div>

  <!--  <div class="overflow-auto custom-table-fixed small-screen col-sm-11 col-md-8 col-lg-4 ml-3 p-0"-->
  <!--       style="max-height: 400px;">-->
  <!--    <table class="table table-bordered m-0 text-center5 text-center">-->
  <!--      <thead class="tablehead table-borderless">-->
  <!--      <tr>-->
  <!--        <th>Datasets</th>-->
  <!--      </tr>-->
  <!--      </thead>-->
  <!--      <tbody class="table-light">-->
  <!--      <tr *ngFor="let dataset of datasets$ | async; let index = index;"-->
  <!--          (click)="onSelection(index, dataset)">-->
  <!--        <td>{{dataset.name}}</td>-->
  <!--      </tr>-->
  <!--      </tbody>-->
  <!--    </table>-->
  <!--  </div>-->

  <div class="col">
    <app-dataset-detail [activeIndex]="activeIndex"></app-dataset-detail>
  </div>
</div>

<!--<div class="row mt-1 ml-0 mr-0">-->
<!--  <table class="small-screen col-sm-11 col-md-8 col-lg-4 ml-3 table table-bordered">-->
<!--    <thead class="thead-dark table-borderless">-->
<!--    <tr>-->
<!--      <th>Region level</th>-->
<!--      <th>Dataset title</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody class="table-light">-->
<!--    <tr>-->
<!--      <th [rowSpan]="(EUdatasets | searchArray: searchQuery).length + 1">European level</th>-->
<!--    </tr>-->
<!--    <tr *ngFor="let dataset of (EUdatasets | searchArray: searchQuery); let index = index;"-->
<!--        (click)="onSelection(index, dataset)">-->
<!--      <td>{{dataset.name}}</td>-->
<!--    </tr>-->

<!--    <tr>-->
<!--      <th [rowSpan]="(NATdatasets | searchArray: searchQuery).length + 1">National level</th>-->
<!--    </tr>-->
<!--    <tr *ngFor="let dataset of (NATdatasets | searchArray: searchQuery ) let index = index;"-->
<!--        (click)="onSelection(index, dataset)">-->
<!--      <td>{{dataset.name}}</td>-->
<!--    </tr>-->

<!--    <tr *ngIf="URBdatasets.length >= 0">-->
<!--      <th [rowSpan]="(URBdatasets | searchArray: searchQuery).length + 1">Urban level</th>-->
<!--    </tr>-->
<!--    <tr *ngFor="let dataset of (URBdatasets | searchArray: searchQuery) let index = index;"-->
<!--        (click)="onSelection(index, dataset)">-->
<!--      <td>{{dataset.name}}</td>-->
<!--    </tr>-->
<!--    </tbody>-->
<!--  </table>-->

<!--  <div>-->
<!--    <app-dataset-detail [activeIndex]="activeIndex"></app-dataset-detail>-->
<!--  </div>-->
<!--</div>-->
