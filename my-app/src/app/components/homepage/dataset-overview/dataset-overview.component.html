<div class="row">
  <div class="col-sm-12 col-md-8 col-lg-5 form-group">
    <div class="col-sm-12 col-lg-10 form-row has-search float-left m-0 rounded-circle">
      <span class="fa fa-search form-control-feedback"></span>
      <input type="text"
             class="form-control"
             placeholder="Search"
             onfocus="this.placeholder = ''"
             onblur="this.placeholder = 'Search'"
             [(ngModel)]="searchQuery">
    </div>
    <div class="col-sm-12 my-2 form-row mx-auto float-left">
      <div class="col-sm-12 col-md-5 float-left">
        <label for="regionFilter" class="text-white">Region filter</label>
        <select name="regionSelectBox" id="regionFilter" class="custom-select" style="cursor: pointer" ngForm
                [(ngModel)]="this.regionSearch">
          <option value="All regions" selected>All regions</option>
          <option value="European">European Level</option>
          <option value="National">National Level</option>
          <option value="Urban">Urban Level</option>
        </select>
      </div>
      <!--      <select *ngIf="this.sessionService.displayName" class="custom-select" style="cursor: pointer">-->
      <div class="col-sm-12 col-md-5 float-left">
        <label for="publicityFilter" class="text-white">Publicity filter</label>
        <select name="publicitySelectBox" id="publicityFilter" class="custom-select" style="cursor: pointer" ngForm
                [(ngModel)]="this.publicitySearch">
          <option value="All shared">All shared</option>
          <option value="Public">Public shared</option>
          <option>Group shared</option>
          <option>Private shared</option>
          <!--        TODO:: Implement a *ngIf after modifying User modal so that only users in a group can see this option-->
        </select>
      </div>
      <button type="submit" class="btn btn-warning rounded filter-button float-left mt-auto col-sm-2"
              (click)="onFilter()">Filter
      </button>
      <!--      <div class="dropdown-menu dropdown-menu-right">-->
      <!--        <a class="dropdown-item" (click)="onFilter('EU')">European Level</a>-->
      <!--        <a class="dropdown-item" (click)="onFilter('NAT')">National Level</a>-->
      <!--        <a class="dropdown-item" (click)="onFilter('URB')">Urban Level</a>-->
      <!--      </div>-->
    </div>
  </div>
</div>

<div class="row mt-1 mx-0">
  <div class="col-sm-8 col-md-8 col-lg-4 mx-2" style="max-height: 400px;">
    <table class="table table-bordered m-0 text-center">
      <thead class="tablehead table-borderless">
      <tr>
        <th class="text-light font-weight-normal">Datasets</th>
      </tr>
      </thead>
      <tbody class="table-light" *ngIf="this.datasets$ | async">
      <tr *ngFor="let dataset of copyDatasets | searchArrayName: [searchQuery, 'value']; let index = index;"
          (click)="onSelection(index, dataset)">
        <td>{{dataset.name}}</td>
      </tr>
      </tbody>
    </table>
  </div>

  <!--  <div class="overflow-auto custom-table-fixed small-screen col-sm-11 col-md-8 col-lg-4 ml-3 p-0"-->
  <!--       style="max-height: 400px;">-->
  <!--    <table class="table table-bordered m-0 text-center5 text-center">-->
  <!--      <thead class="tablehead table-borderless">-->
  <!--      <tr>-->
  <!--        <th>Datasets</th>-->
  <!--      </tr>-->
  <!--      </thead>-->
  <!--      <tbody class="table-light">-->
  <!--      <tr *ngFor="let dataset of datasets$ | async; let index = index;"-->
  <!--          (click)="onSelection(index, dataset)">-->
  <!--        <td>{{dataset.name}}</td>-->
  <!--      </tr>-->
  <!--      </tbody>-->
  <!--    </table>-->
  <!--  </div>-->

  <div class="col">
    <app-dataset-detail [activeIndex]="activeIndex"></app-dataset-detail>
  </div>
</div>

<!--<div class="row mt-1 ml-0 mr-0">-->
<!--  <table class="small-screen col-sm-11 col-md-8 col-lg-4 ml-3 table table-bordered">-->
<!--    <thead class="thead-dark table-borderless">-->
<!--    <tr>-->
<!--      <th>Region level</th>-->
<!--      <th>Dataset title</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody class="table-light">-->
<!--    <tr>-->
<!--      <th [rowSpan]="(EUdatasets | searchArrayName: searchQuery).length + 1">European level</th>-->
<!--    </tr>-->
<!--    <tr *ngFor="let dataset of (EUdatasets | searchArrayName: searchQuery); let index = index;"-->
<!--        (click)="onSelection(index, dataset)">-->
<!--      <td>{{dataset.name}}</td>-->
<!--    </tr>-->

<!--    <tr>-->
<!--      <th [rowSpan]="(NATdatasets | searchArrayName: searchQuery).length + 1">National level</th>-->
<!--    </tr>-->
<!--    <tr *ngFor="let dataset of (NATdatasets | searchArrayName: searchQuery ) let index = index;"-->
<!--        (click)="onSelection(index, dataset)">-->
<!--      <td>{{dataset.name}}</td>-->
<!--    </tr>-->

<!--    <tr *ngIf="URBdatasets.length >= 0">-->
<!--      <th [rowSpan]="(URBdatasets | searchArrayName: searchQuery).length + 1">Urban level</th>-->
<!--    </tr>-->
<!--    <tr *ngFor="let dataset of (URBdatasets | searchArrayName: searchQuery) let index = index;"-->
<!--        (click)="onSelection(index, dataset)">-->
<!--      <td>{{dataset.name}}</td>-->
<!--    </tr>-->
<!--    </tbody>-->
<!--  </table>-->

<!--  <div>-->
<!--    <app-dataset-detail [activeIndex]="activeIndex"></app-dataset-detail>-->
<!--  </div>-->
<!--</div>-->
